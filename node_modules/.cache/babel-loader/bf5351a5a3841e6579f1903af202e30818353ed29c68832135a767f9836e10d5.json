{"ast":null,"code":"import axios from 'axios';\nfunction getLocalIPv4(callback) {\n  const RTCPeerConnection = window.RTCPeerConnection || window.mozRTCPeerConnection || window.webkitRTCPeerConnection;\n  if (!RTCPeerConnection) {\n    console.error(\"WebRTC is not supported in this browser.\");\n    return;\n  }\n  const pc = new RTCPeerConnection();\n  const localIPs = [];\n  const ipRegex = /([0-9]{1,3}\\.){3}[0-9]{1,3}/;\n  function handleCandidate(candidate) {\n    const ipMatch = candidate.match(ipRegex);\n    if (ipMatch && !localIPs.includes(ipMatch[0])) {\n      localIPs.push(ipMatch[0]);\n      callback(ipMatch[0]);\n    }\n  }\n  pc.createDataChannel(\"\"); // 创建数据通道\n  pc.createOffer().then(offer => pc.setLocalDescription(offer)).catch(err => console.error(err));\n  pc.onicecandidate = event => {\n    if (event && event.candidate && event.candidate.candidate) {\n      handleCandidate(event.candidate.candidate);\n    }\n  };\n}\ngetLocalIPv4(ip => {\n  console.log(\"Your local IPv4 address is:\", ip);\n});\n\n// 创建 axios 实例\nconst axiosInstance = axios.create({\n  baseURL: 'http://10.50.72.122:5000/api',\n  // 后端接口的基础路径\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\nexport default axiosInstance;","map":{"version":3,"names":["axios","getLocalIPv4","callback","RTCPeerConnection","window","mozRTCPeerConnection","webkitRTCPeerConnection","console","error","pc","localIPs","ipRegex","handleCandidate","candidate","ipMatch","match","includes","push","createDataChannel","createOffer","then","offer","setLocalDescription","catch","err","onicecandidate","event","ip","log","axiosInstance","create","baseURL","headers"],"sources":["D:/learing/peer_instrution/code/my-app/src/api/axiosInstance.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n\r\n\r\nfunction getLocalIPv4(callback) {\r\n    const RTCPeerConnection =\r\n        window.RTCPeerConnection ||\r\n        window.mozRTCPeerConnection ||\r\n        window.webkitRTCPeerConnection;\r\n\r\n    if (!RTCPeerConnection) {\r\n        console.error(\"WebRTC is not supported in this browser.\");\r\n        return;\r\n    }\r\n\r\n    const pc = new RTCPeerConnection();\r\n    const localIPs = [];\r\n    const ipRegex = /([0-9]{1,3}\\.){3}[0-9]{1,3}/;\r\n\r\n    function handleCandidate(candidate) {\r\n        const ipMatch = candidate.match(ipRegex);\r\n        if (ipMatch && !localIPs.includes(ipMatch[0])) {\r\n            localIPs.push(ipMatch[0]);\r\n            callback(ipMatch[0]);\r\n        }\r\n    }\r\n\r\n    pc.createDataChannel(\"\"); // 创建数据通道\r\n    pc.createOffer()\r\n        .then((offer) => pc.setLocalDescription(offer))\r\n        .catch((err) => console.error(err));\r\n\r\n    pc.onicecandidate = (event) => {\r\n        if (event && event.candidate && event.candidate.candidate) {\r\n            handleCandidate(event.candidate.candidate);\r\n        }\r\n    };\r\n}\r\n\r\ngetLocalIPv4((ip) => {\r\n    console.log(\"Your local IPv4 address is:\", ip);\r\n});\r\n\r\n// 创建 axios 实例\r\nconst axiosInstance = axios.create({\r\n    baseURL: 'http://10.50.72.122:5000/api', // 后端接口的基础路径\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n});\r\n\r\n\r\nexport default axiosInstance;\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAIzB,SAASC,YAAYA,CAACC,QAAQ,EAAE;EAC5B,MAAMC,iBAAiB,GACnBC,MAAM,CAACD,iBAAiB,IACxBC,MAAM,CAACC,oBAAoB,IAC3BD,MAAM,CAACE,uBAAuB;EAElC,IAAI,CAACH,iBAAiB,EAAE;IACpBI,OAAO,CAACC,KAAK,CAAC,0CAA0C,CAAC;IACzD;EACJ;EAEA,MAAMC,EAAE,GAAG,IAAIN,iBAAiB,CAAC,CAAC;EAClC,MAAMO,QAAQ,GAAG,EAAE;EACnB,MAAMC,OAAO,GAAG,6BAA6B;EAE7C,SAASC,eAAeA,CAACC,SAAS,EAAE;IAChC,MAAMC,OAAO,GAAGD,SAAS,CAACE,KAAK,CAACJ,OAAO,CAAC;IACxC,IAAIG,OAAO,IAAI,CAACJ,QAAQ,CAACM,QAAQ,CAACF,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE;MAC3CJ,QAAQ,CAACO,IAAI,CAACH,OAAO,CAAC,CAAC,CAAC,CAAC;MACzBZ,QAAQ,CAACY,OAAO,CAAC,CAAC,CAAC,CAAC;IACxB;EACJ;EAEAL,EAAE,CAACS,iBAAiB,CAAC,EAAE,CAAC,CAAC,CAAC;EAC1BT,EAAE,CAACU,WAAW,CAAC,CAAC,CACXC,IAAI,CAAEC,KAAK,IAAKZ,EAAE,CAACa,mBAAmB,CAACD,KAAK,CAAC,CAAC,CAC9CE,KAAK,CAAEC,GAAG,IAAKjB,OAAO,CAACC,KAAK,CAACgB,GAAG,CAAC,CAAC;EAEvCf,EAAE,CAACgB,cAAc,GAAIC,KAAK,IAAK;IAC3B,IAAIA,KAAK,IAAIA,KAAK,CAACb,SAAS,IAAIa,KAAK,CAACb,SAAS,CAACA,SAAS,EAAE;MACvDD,eAAe,CAACc,KAAK,CAACb,SAAS,CAACA,SAAS,CAAC;IAC9C;EACJ,CAAC;AACL;AAEAZ,YAAY,CAAE0B,EAAE,IAAK;EACjBpB,OAAO,CAACqB,GAAG,CAAC,6BAA6B,EAAED,EAAE,CAAC;AAClD,CAAC,CAAC;;AAEF;AACA,MAAME,aAAa,GAAG7B,KAAK,CAAC8B,MAAM,CAAC;EAC/BC,OAAO,EAAE,8BAA8B;EAAE;EACzCC,OAAO,EAAE;IACL,cAAc,EAAE;EACpB;AACJ,CAAC,CAAC;AAGF,eAAeH,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}